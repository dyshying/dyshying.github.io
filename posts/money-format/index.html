<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金额格式化- 邓勇的博客
</title>
    <link href="/theme/css/pygment.css" type="text/css" rel="stylesheet">
	<link href="/theme/css/progress.css" type="text/css" rel="stylesheet">
    <link href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="/theme/css/style.css" type="text/css" rel="stylesheet">
    <link href="/theme/css/dy.css" type="text/css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
	<script src="/theme/js/progress.js"></script>
    <style type="text/css">
    body{
        background-color: #E3E3E3;
    }
    </style>
</head>
<body>
    <header>
        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button"
                            class="navbar-toggle collapsed"
                            data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li style="min-width:180px; text-align: center;"><a href="/" style="max-height:50px;"><img src="/theme/images/logo.png" alt="DengYong's Blog" height="18"></a></li>
                        <li >
                            <a href="/">首页</a>
                        </li>
                                <li  class="active" >
                                    <a href="/category/cheng-xu.html">程序</a>
                                </li>
                                <li >
                                    <a href="/category/ren-sheng.html">人生</a>
                                </li>
                        <li  >
                            <a href="/tags.html">Tags</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="container row">
        <div class="col-md-9">
<div class="article-body">
<h1>金额格式化</h1>
<span class="label label-default">
2015-09-13 20:36
</span>&nbsp;
<div class="btn-group btn-group-xs">
    <a class="btn btn-primary" href="/tag/jin-e-ge-shi-hua.html">金额格式化</a>
</div>
<div class="btn-group btn-group-xs">
    <a class="btn btn-primary" href="/tag/javascript.html">javascript</a>
</div>
<hr>
<div class="article-content">
<div class="section" id="id2">
<h2>代码</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="cm">/**</span>
<span class="cm"> * 格式化金额</span>
<span class="cm"> * @param num 金额</span>
<span class="cm"> * @returns 每3位添加一个逗号</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">formatMoney</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">(</span><span class="nx">num</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\.&quot;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\d{3}/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">d</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="p">;</span>
    <span class="p">}).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\,$/g</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">r</span> <span class="o">+=</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">r</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="section" id="id3">
<h2>说明</h2>
<div class="line-block">
<div class="line">该function的作用就是把数字转成每隔3个数字添加一个逗号的字符串</div>
<div class="line">代码逻辑还是挺简单的，主要是js的String对象没发现有reverse方法，但数组有</div>
</div>
<p><strong>调用</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">调用方式</th>
<th class="head">返回值</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>formatMoney(1234567.9012)</td>
<td>1,234,567.9012</td>
</tr>
<tr><td>formatMoney(987654.32)</td>
<td>987,654.32</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">完</div>
</div>
</div>

</div>
<div>
    <div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</div>
<hr>
<div class="alert alert-info">
    <p>版权属于：<a href="http://www.dengyong.me">邓勇的博客</a></p>
    <p>原文地址：<a href="http://www.dengyong.me/posts/money-format/">
        http://www.dengyong.me/posts/money-format/
    </a></p>
    <p>转载时请以链接形式注明原始出处及本声明。
</div>

<ul>
    <li>
        旧一篇：<a href="/posts/java-decompile-view-visit-speed/">
            面试题(1):从反编译看访问速度
        </a>
    </li>
    <li>
        新一篇：<a href="/"> 没有了，回到首页</a>
    </li>
</ul>    <hr>
    <h3>相关阅读</h3>
    <ul>
        <li><a href="/posts/js-datetime-format-init/">js时间日期格式化及EasyUI时间控件的初始化</a></li>
        <li><a href="/posts/js-include/">js获取项目根路径及实现include</a></li>
    </ul>
    <br>
    <h3>最新文章</h3>
    <ul>
<li>
        <a href="/posts/money-format/">金额格式化</a>
        </li><li>
        <a href="/posts/java-decompile-view-visit-speed/">面试题(1):从反编译看访问速度</a>
        </li><li>
        <a href="/posts/js-include/">js获取项目根路径及实现include</a>
        </li><li>
        <a href="/posts/js-datetime-format-init/">js时间日期格式化及EasyUI时间控件的初始化</a>
        </li><li>
        <a href="/posts/esayui-datagrid-reloaddata/">修改EasyUI源码，解决datagrid重复请求数据的问题</a>
        </li>    </ul>
    <br>

<!-- UY BEGIN -->
<div class="comments">
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1986444"></script>
</div>
<!-- UY END -->
        </div>
        <div class="col-md-3">

</div>
        </div>
    </div>
    <footer class="bs-docs-footer" role="contentinfo">
        <div class="container">
            <hr>
            <p>
                Copyright &copy; 2014 - 2114
                <span class="credit"><a href="/">DengYong</a>&nbsp;</span>
                <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253666473'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1253666473%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
            </p>
            <br>
        </div>
    </footer>
</body>
</html>